     1 00000000                                 [FORMAT "WCOFF"]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6 00000000                                 	EXTERN	_init_gdtidt
     7 00000000                                 	EXTERN	_init_pic
     8 00000000                                 	EXTERN	_io_sti
     9 00000000                                 	EXTERN	_keyfifo
    10 00000000                                 	EXTERN	_fifo8_init
    11 00000000                                 	EXTERN	_mousefifo
    12 00000000                                 	EXTERN	_init_pit
    13 00000000                                 	EXTERN	_io_out8
    14 00000000                                 	EXTERN	_settimer
    15 00000000                                 	EXTERN	_init_keyboard
    16 00000000                                 	EXTERN	_enable_mouse
    17 00000000                                 	EXTERN	_memtest
    18 00000000                                 	EXTERN	_memman_init
    19 00000000                                 	EXTERN	_memman_free
    20 00000000                                 	EXTERN	_init_palette
    21 00000000                                 	EXTERN	_shtctl_init
    22 00000000                                 	EXTERN	_sheet_alloc
    23 00000000                                 	EXTERN	_memman_alloc_4k
    24 00000000                                 	EXTERN	_sheet_setbuf
    25 00000000                                 	EXTERN	_init_screen8
    26 00000000                                 	EXTERN	_init_mouse_cursor8
    27 00000000                                 	EXTERN	_sheet_slide
    28 00000000                                 	EXTERN	_sheet_updown
    29 00000000                                 	EXTERN	_sprintf
    30 00000000                                 	EXTERN	_putfonts8_asc
    31 00000000                                 	EXTERN	_memman_total
    32 00000000                                 	EXTERN	_sheet_refresh
    33 00000000                                 	EXTERN	_boxfill8
    34 00000000                                 	EXTERN	_io_cli
    35 00000000                                 	EXTERN	_fifo8_status
    36 00000000                                 	EXTERN	_fifo8_get
    37 00000000                                 	EXTERN	_mouse_decode
    38 00000000                                 	EXTERN	_io_stihlt
    39 00000000                                 [FILE "bootpack.c"]
    40                                          [SECTION .data]
    41 00000000                                 LC0:
    42 00000000 63 6F 75 6E 74 65 72 00         	DB	"counter",0x00
    43 00000008                                 LC1:
    44 00000008 28 25 33 64 2C 20 25 33 64 29   	DB	"(%3d, %3d)",0x00
       00000012 00 
    45 00000013                                 LC2:
    46 00000013 6D 65 6D 6F 72 79 20 25 64 4D   	DB	"memory %dMB  free: %dKB",0x00
       0000001D 42 20 20 66 72 65 65 3A 20 25 
       00000027 64 4B 42 00 
    47 0000002B                                 LC3:
    48 0000002B 25 30 31 30 64 00               	DB	"%010d",0x00
    49 00000031                                 LC6:
    50 00000031 31 30 5B 53 45 43 5D 00         	DB	"10[SEC]",0x00
    51 00000039                                 LC5:
    52 00000039 5B 6C 63 72 20 25 34 64 20 25   	DB	"[lcr %4d %4d]",0x00
       00000043 34 64 5D 00 
    53 00000047                                 LC4:
    54 00000047 25 30 32 58 00                  	DB	"%02X",0x00
    55                                          [SECTION .text]
    56 00000000                                 	GLOBAL	_HariMain
    57 00000000                                 _HariMain:
    58 00000000 55                              	PUSH	EBP
    59 00000001 89 E5                           	MOV	EBP,ESP
    60 00000003 57                              	PUSH	EDI
    61 00000004 56                              	PUSH	ESI
    62 00000005 53                              	PUSH	EBX
    63 00000006 8D 5D D4                        	LEA	EBX,DWORD [-44+EBP]
    64 00000009 81 EC 0000022C                  	SUB	ESP,556
    65 0000000F C7 85 FFFFFDE4 00000000         	MOV	DWORD [-540+EBP],0
    66 00000019 E8 [00000000]                   	CALL	_init_gdtidt
    67 0000001E E8 [00000000]                   	CALL	_init_pic
    68 00000023 E8 [00000000]                   	CALL	_io_sti
    69 00000028 8D 45 84                        	LEA	EAX,DWORD [-124+EBP]
    70 0000002B 50                              	PUSH	EAX
    71 0000002C 6A 20                           	PUSH	32
    72 0000002E 68 [00000000]                   	PUSH	_keyfifo
    73 00000033 E8 [00000000]                   	CALL	_fifo8_init
    74 00000038 8D 85 FFFFFF04                  	LEA	EAX,DWORD [-252+EBP]
    75 0000003E 50                              	PUSH	EAX
    76 0000003F 68 00000080                     	PUSH	128
    77 00000044 68 [00000000]                   	PUSH	_mousefifo
    78 00000049 E8 [00000000]                   	CALL	_fifo8_init
    79 0000004E E8 [00000000]                   	CALL	_init_pit
    80 00000053 68 000000F8                     	PUSH	248
    81 00000058 6A 21                           	PUSH	33
    82 0000005A E8 [00000000]                   	CALL	_io_out8
    83 0000005F 83 C4 20                        	ADD	ESP,32
    84 00000062 68 000000EF                     	PUSH	239
    85 00000067 68 000000A1                     	PUSH	161
    86 0000006C E8 [00000000]                   	CALL	_io_out8
    87 00000071 8D 85 FFFFFDEC                  	LEA	EAX,DWORD [-532+EBP]
    88 00000077 50                              	PUSH	EAX
    89 00000078 6A 08                           	PUSH	8
    90 0000007A 53                              	PUSH	EBX
    91 0000007B E8 [00000000]                   	CALL	_fifo8_init
    92 00000080 6A 01                           	PUSH	1
    93 00000082 53                              	PUSH	EBX
    94 00000083 68 000003E8                     	PUSH	1000
    95 00000088 E8 [00000000]                   	CALL	_settimer
    96 0000008D 83 C4 20                        	ADD	ESP,32
    97 00000090 E8 [00000000]                   	CALL	_init_keyboard
    98 00000095 8D 85 FFFFFEF4                  	LEA	EAX,DWORD [-268+EBP]
    99 0000009B 50                              	PUSH	EAX
   100 0000009C E8 [00000000]                   	CALL	_enable_mouse
   101 000000A1 68 BFFFFFFF                     	PUSH	-1073741825
   102 000000A6 68 00400000                     	PUSH	4194304
   103 000000AB E8 [00000000]                   	CALL	_memtest
   104 000000B0 68 003C0000                     	PUSH	3932160
   105 000000B5 89 C6                           	MOV	ESI,EAX
   106 000000B7 E8 [00000000]                   	CALL	_memman_init
   107 000000BC 68 0009E000                     	PUSH	647168
   108 000000C1 68 00001000                     	PUSH	4096
   109 000000C6 68 003C0000                     	PUSH	3932160
   110 000000CB E8 [00000000]                   	CALL	_memman_free
   111 000000D0 8D 86 FFC00000                  	LEA	EAX,DWORD [-4194304+ESI]
   112 000000D6 C1 EE 14                        	SHR	ESI,20
   113 000000D9 50                              	PUSH	EAX
   114 000000DA 68 00400000                     	PUSH	4194304
   115 000000DF 68 003C0000                     	PUSH	3932160
   116 000000E4 E8 [00000000]                   	CALL	_memman_free
   117 000000E9 83 C4 28                        	ADD	ESP,40
   118 000000EC E8 [00000000]                   	CALL	_init_palette
   119 000000F1 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   120 000000F8 50                              	PUSH	EAX
   121 000000F9 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   122 00000100 50                              	PUSH	EAX
   123 00000101 FF 35 00000FF8                  	PUSH	DWORD [4088]
   124 00000107 68 003C0000                     	PUSH	3932160
   125 0000010C E8 [00000000]                   	CALL	_shtctl_init
   126 00000111 89 C3                           	MOV	EBX,EAX
   127 00000113 50                              	PUSH	EAX
   128 00000114 E8 [00000000]                   	CALL	_sheet_alloc
   129 00000119 53                              	PUSH	EBX
   130 0000011A 89 85 FFFFFDE0                  	MOV	DWORD [-544+EBP],EAX
   131 00000120 E8 [00000000]                   	CALL	_sheet_alloc
   132 00000125 53                              	PUSH	EBX
   133 00000126 8D 9D FFFFFDF4                  	LEA	EBX,DWORD [-524+EBP]
   134 0000012C 89 85 FFFFFDDC                  	MOV	DWORD [-548+EBP],EAX
   135 00000132 E8 [00000000]                   	CALL	_sheet_alloc
   136 00000137 0F BF 15 00000FF6               	MOVSX	EDX,WORD [4086]
   137 0000013E 89 85 FFFFFDD8                  	MOV	DWORD [-552+EBP],EAX
   138 00000144 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   139 0000014B 0F AF C2                        	IMUL	EAX,EDX
   140 0000014E 50                              	PUSH	EAX
   141 0000014F 68 003C0000                     	PUSH	3932160
   142 00000154 E8 [00000000]                   	CALL	_memman_alloc_4k
   143 00000159 83 C4 24                        	ADD	ESP,36
   144 0000015C 68 00002080                     	PUSH	8320
   145 00000161 89 85 FFFFFDD4                  	MOV	DWORD [-556+EBP],EAX
   146 00000167 68 003C0000                     	PUSH	3932160
   147 0000016C E8 [00000000]                   	CALL	_memman_alloc_4k
   148 00000171 6A FF                           	PUSH	-1
   149 00000173 89 85 FFFFFDD0                  	MOV	DWORD [-560+EBP],EAX
   150 00000179 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   151 00000180 50                              	PUSH	EAX
   152 00000181 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   153 00000188 50                              	PUSH	EAX
   154 00000189 FF B5 FFFFFDD4                  	PUSH	DWORD [-556+EBP]
   155 0000018F FF B5 FFFFFDE0                  	PUSH	DWORD [-544+EBP]
   156 00000195 E8 [00000000]                   	CALL	_sheet_setbuf
   157 0000019A 6A 63                           	PUSH	99
   158 0000019C 6A 10                           	PUSH	16
   159 0000019E 6A 10                           	PUSH	16
   160 000001A0 53                              	PUSH	EBX
   161 000001A1 FF B5 FFFFFDDC                  	PUSH	DWORD [-548+EBP]
   162 000001A7 E8 [00000000]                   	CALL	_sheet_setbuf
   163 000001AC 83 C4 30                        	ADD	ESP,48
   164 000001AF 6A FF                           	PUSH	-1
   165 000001B1 6A 34                           	PUSH	52
   166 000001B3 68 000000A0                     	PUSH	160
   167 000001B8 FF B5 FFFFFDD0                  	PUSH	DWORD [-560+EBP]
   168 000001BE FF B5 FFFFFDD8                  	PUSH	DWORD [-552+EBP]
   169 000001C4 E8 [00000000]                   	CALL	_sheet_setbuf
   170 000001C9 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   171 000001D0 50                              	PUSH	EAX
   172 000001D1 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   173 000001D8 50                              	PUSH	EAX
   174 000001D9 FF B5 FFFFFDD4                  	PUSH	DWORD [-556+EBP]
   175 000001DF E8 [00000000]                   	CALL	_init_screen8
   176 000001E4 83 C4 20                        	ADD	ESP,32
   177 000001E7 6A 63                           	PUSH	99
   178 000001E9 53                              	PUSH	EBX
   179 000001EA BB 00000002                     	MOV	EBX,2
   180 000001EF E8 [00000000]                   	CALL	_init_mouse_cursor8
   181 000001F4 68 [00000000]                   	PUSH	LC0
   182 000001F9 6A 34                           	PUSH	52
   183 000001FB 68 000000A0                     	PUSH	160
   184 00000200 FF B5 FFFFFDD0                  	PUSH	DWORD [-560+EBP]
   185 00000206 E8 0000042C                     	CALL	_make_window8
   186 0000020B 6A 00                           	PUSH	0
   187 0000020D 6A 00                           	PUSH	0
   188 0000020F FF B5 FFFFFDE0                  	PUSH	DWORD [-544+EBP]
   189 00000215 E8 [00000000]                   	CALL	_sheet_slide
   190 0000021A 83 C4 24                        	ADD	ESP,36
   191 0000021D 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   192 00000224 8D 48 F0                        	LEA	ECX,DWORD [-16+EAX]
   193 00000227 89 C8                           	MOV	EAX,ECX
   194 00000229 99                              	CDQ
   195 0000022A F7 FB                           	IDIV	EBX
   196 0000022C 89 85 FFFFFDE8                  	MOV	DWORD [-536+EBP],EAX
   197 00000232 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   198 00000239 8D 48 D4                        	LEA	ECX,DWORD [-44+EAX]
   199 0000023C 89 C8                           	MOV	EAX,ECX
   200 0000023E 99                              	CDQ
   201 0000023F F7 FB                           	IDIV	EBX
   202 00000241 50                              	PUSH	EAX
   203 00000242 89 C7                           	MOV	EDI,EAX
   204 00000244 FF B5 FFFFFDE8                  	PUSH	DWORD [-536+EBP]
   205 0000024A FF B5 FFFFFDDC                  	PUSH	DWORD [-548+EBP]
   206 00000250 8D 5D A4                        	LEA	EBX,DWORD [-92+EBP]
   207 00000253 E8 [00000000]                   	CALL	_sheet_slide
   208 00000258 6A 48                           	PUSH	72
   209 0000025A 6A 50                           	PUSH	80
   210 0000025C FF B5 FFFFFDD8                  	PUSH	DWORD [-552+EBP]
   211 00000262 E8 [00000000]                   	CALL	_sheet_slide
   212 00000267 6A 00                           	PUSH	0
   213 00000269 FF B5 FFFFFDE0                  	PUSH	DWORD [-544+EBP]
   214 0000026F E8 [00000000]                   	CALL	_sheet_updown
   215 00000274 83 C4 20                        	ADD	ESP,32
   216 00000277 6A 01                           	PUSH	1
   217 00000279 FF B5 FFFFFDD8                  	PUSH	DWORD [-552+EBP]
   218 0000027F E8 [00000000]                   	CALL	_sheet_updown
   219 00000284 6A 02                           	PUSH	2
   220 00000286 FF B5 FFFFFDDC                  	PUSH	DWORD [-548+EBP]
   221 0000028C E8 [00000000]                   	CALL	_sheet_updown
   222 00000291 57                              	PUSH	EDI
   223 00000292 FF B5 FFFFFDE8                  	PUSH	DWORD [-536+EBP]
   224 00000298 68 [00000008]                   	PUSH	LC1
   225 0000029D 53                              	PUSH	EBX
   226 0000029E E8 [00000000]                   	CALL	_sprintf
   227 000002A3 83 C4 20                        	ADD	ESP,32
   228 000002A6 53                              	PUSH	EBX
   229 000002A7 6A 07                           	PUSH	7
   230 000002A9 6A 00                           	PUSH	0
   231 000002AB 6A 00                           	PUSH	0
   232 000002AD 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   233 000002B4 50                              	PUSH	EAX
   234 000002B5 FF B5 FFFFFDD4                  	PUSH	DWORD [-556+EBP]
   235 000002BB E8 [00000000]                   	CALL	_putfonts8_asc
   236 000002C0 68 003C0000                     	PUSH	3932160
   237 000002C5 E8 [00000000]                   	CALL	_memman_total
   238 000002CA C1 E8 0A                        	SHR	EAX,10
   239 000002CD 89 04 24                        	MOV	DWORD [ESP],EAX
   240 000002D0 56                              	PUSH	ESI
   241 000002D1 68 [00000013]                   	PUSH	LC2
   242 000002D6 53                              	PUSH	EBX
   243 000002D7 E8 [00000000]                   	CALL	_sprintf
   244 000002DC 83 C4 28                        	ADD	ESP,40
   245 000002DF 53                              	PUSH	EBX
   246 000002E0 6A 07                           	PUSH	7
   247 000002E2 6A 20                           	PUSH	32
   248 000002E4 6A 00                           	PUSH	0
   249 000002E6 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   250 000002ED 50                              	PUSH	EAX
   251 000002EE FF B5 FFFFFDD4                  	PUSH	DWORD [-556+EBP]
   252 000002F4 E8 [00000000]                   	CALL	_putfonts8_asc
   253 000002F9 6A 30                           	PUSH	48
   254 000002FB 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   255 00000302 50                              	PUSH	EAX
   256 00000303 6A 00                           	PUSH	0
   257 00000305                                 L20:
   258 00000305 6A 00                           	PUSH	0
   259 00000307 FF B5 FFFFFDE0                  	PUSH	DWORD [-544+EBP]
   260 0000030D E8 [00000000]                   	CALL	_sheet_refresh
   261 00000312 83 C4 2C                        	ADD	ESP,44
   262 00000315                                 L2:
   263 00000315 FF 85 FFFFFDE4                  	INC	DWORD [-540+EBP]
   264 0000031B 8D 5D A4                        	LEA	EBX,DWORD [-92+EBP]
   265 0000031E FF B5 FFFFFDE4                  	PUSH	DWORD [-540+EBP]
   266 00000324 68 [0000002B]                   	PUSH	LC3
   267 00000329 8D 75 D4                        	LEA	ESI,DWORD [-44+EBP]
   268 0000032C 53                              	PUSH	EBX
   269 0000032D E8 [00000000]                   	CALL	_sprintf
   270 00000332 6A 2B                           	PUSH	43
   271 00000334 6A 77                           	PUSH	119
   272 00000336 6A 1C                           	PUSH	28
   273 00000338 6A 28                           	PUSH	40
   274 0000033A 6A 08                           	PUSH	8
   275 0000033C 68 000000A0                     	PUSH	160
   276 00000341 FF B5 FFFFFDD0                  	PUSH	DWORD [-560+EBP]
   277 00000347 E8 [00000000]                   	CALL	_boxfill8
   278 0000034C 83 C4 28                        	ADD	ESP,40
   279 0000034F 53                              	PUSH	EBX
   280 00000350 6A 00                           	PUSH	0
   281 00000352 6A 1C                           	PUSH	28
   282 00000354 6A 28                           	PUSH	40
   283 00000356 68 000000A0                     	PUSH	160
   284 0000035B FF B5 FFFFFDD0                  	PUSH	DWORD [-560+EBP]
   285 00000361 E8 [00000000]                   	CALL	_putfonts8_asc
   286 00000366 6A 2C                           	PUSH	44
   287 00000368 6A 78                           	PUSH	120
   288 0000036A 6A 1C                           	PUSH	28
   289 0000036C 6A 28                           	PUSH	40
   290 0000036E FF B5 FFFFFDD8                  	PUSH	DWORD [-552+EBP]
   291 00000374 E8 [00000000]                   	CALL	_sheet_refresh
   292 00000379 83 C4 2C                        	ADD	ESP,44
   293 0000037C E8 [00000000]                   	CALL	_io_cli
   294 00000381 68 [00000000]                   	PUSH	_keyfifo
   295 00000386 E8 [00000000]                   	CALL	_fifo8_status
   296 0000038B 68 [00000000]                   	PUSH	_mousefifo
   297 00000390 89 C3                           	MOV	EBX,EAX
   298 00000392 E8 [00000000]                   	CALL	_fifo8_status
   299 00000397 56                              	PUSH	ESI
   300 00000398 01 C3                           	ADD	EBX,EAX
   301 0000039A E8 [00000000]                   	CALL	_fifo8_status
   302 0000039F 83 C4 0C                        	ADD	ESP,12
   303 000003A2 8D 04 18                        	LEA	EAX,DWORD [EAX+EBX*1]
   304 000003A5 85 C0                           	TEST	EAX,EAX
   305 000003A7 0F 84 00000280                  	JE	L21
   306 000003AD 68 [00000000]                   	PUSH	_keyfifo
   307 000003B2 E8 [00000000]                   	CALL	_fifo8_status
   308 000003B7 5B                              	POP	EBX
   309 000003B8 85 C0                           	TEST	EAX,EAX
   310 000003BA 0F 85 00000205                  	JNE	L22
   311 000003C0 68 [00000000]                   	PUSH	_mousefifo
   312 000003C5 E8 [00000000]                   	CALL	_fifo8_status
   313 000003CA 59                              	POP	ECX
   314 000003CB 85 C0                           	TEST	EAX,EAX
   315 000003CD 75 53                           	JNE	L23
   316 000003CF 56                              	PUSH	ESI
   317 000003D0 E8 [00000000]                   	CALL	_fifo8_status
   318 000003D5 5A                              	POP	EDX
   319 000003D6 85 C0                           	TEST	EAX,EAX
   320 000003D8 0F 84 FFFFFF37                  	JE	L2
   321 000003DE 56                              	PUSH	ESI
   322 000003DF E8 [00000000]                   	CALL	_fifo8_get
   323 000003E4 E8 [00000000]                   	CALL	_io_sti
   324 000003E9 68 [00000031]                   	PUSH	LC6
   325 000003EE 6A 07                           	PUSH	7
   326 000003F0 6A 40                           	PUSH	64
   327 000003F2 6A 00                           	PUSH	0
   328 000003F4 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   329 000003FB 50                              	PUSH	EAX
   330 000003FC FF B5 FFFFFDD4                  	PUSH	DWORD [-556+EBP]
   331 00000402 E8 [00000000]                   	CALL	_putfonts8_asc
   332 00000407 6A 50                           	PUSH	80
   333 00000409 6A 38                           	PUSH	56
   334 0000040B 6A 40                           	PUSH	64
   335 0000040D 6A 00                           	PUSH	0
   336 0000040F FF B5 FFFFFDE0                  	PUSH	DWORD [-544+EBP]
   337 00000415 E8 [00000000]                   	CALL	_sheet_refresh
   338 0000041A 83 C4 30                        	ADD	ESP,48
   339 0000041D E9 FFFFFEF3                     	JMP	L2
   340 00000422                                 L23:
   341 00000422 68 [00000000]                   	PUSH	_mousefifo
   342 00000427 E8 [00000000]                   	CALL	_fifo8_get
   343 0000042C 89 C3                           	MOV	EBX,EAX
   344 0000042E E8 [00000000]                   	CALL	_io_sti
   345 00000433 0F B6 C3                        	MOVZX	EAX,BL
   346 00000436 50                              	PUSH	EAX
   347 00000437 8D 85 FFFFFEF4                  	LEA	EAX,DWORD [-268+EBP]
   348 0000043D 50                              	PUSH	EAX
   349 0000043E E8 [00000000]                   	CALL	_mouse_decode
   350 00000443 83 C4 0C                        	ADD	ESP,12
   351 00000446 85 C0                           	TEST	EAX,EAX
   352 00000448 0F 8E FFFFFEC7                  	JLE	L2
   353 0000044E FF B5 FFFFFEFC                  	PUSH	DWORD [-260+EBP]
   354 00000454 FF B5 FFFFFEF8                  	PUSH	DWORD [-264+EBP]
   355 0000045A 68 [00000039]                   	PUSH	LC5
   356 0000045F 8D 45 A4                        	LEA	EAX,DWORD [-92+EBP]
   357 00000462 50                              	PUSH	EAX
   358 00000463 E8 [00000000]                   	CALL	_sprintf
   359 00000468 83 C4 10                        	ADD	ESP,16
   360 0000046B 8B 85 FFFFFF00                  	MOV	EAX,DWORD [-256+EBP]
   361 00000471 A9 00000001                     	TEST	EAX,1
   362 00000476 74 04                           	JE	L11
   363 00000478 C6 45 A5 4C                     	MOV	BYTE [-91+EBP],76
   364 0000047C                                 L11:
   365 0000047C A9 00000002                     	TEST	EAX,2
   366 00000481 74 04                           	JE	L12
   367 00000483 C6 45 A7 52                     	MOV	BYTE [-89+EBP],82
   368 00000487                                 L12:
   369 00000487 83 E0 04                        	AND	EAX,4
   370 0000048A 74 04                           	JE	L13
   371 0000048C C6 45 A6 43                     	MOV	BYTE [-90+EBP],67
   372 00000490                                 L13:
   373 00000490 6A 1F                           	PUSH	31
   374 00000492 68 00000097                     	PUSH	151
   375 00000497 6A 10                           	PUSH	16
   376 00000499 6A 20                           	PUSH	32
   377 0000049B 6A 0E                           	PUSH	14
   378 0000049D 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   379 000004A4 50                              	PUSH	EAX
   380 000004A5 FF B5 FFFFFDD4                  	PUSH	DWORD [-556+EBP]
   381 000004AB E8 [00000000]                   	CALL	_boxfill8
   382 000004B0 8D 55 A4                        	LEA	EDX,DWORD [-92+EBP]
   383 000004B3 52                              	PUSH	EDX
   384 000004B4 6A 07                           	PUSH	7
   385 000004B6 6A 10                           	PUSH	16
   386 000004B8 6A 20                           	PUSH	32
   387 000004BA 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   388 000004C1 50                              	PUSH	EAX
   389 000004C2 FF B5 FFFFFDD4                  	PUSH	DWORD [-556+EBP]
   390 000004C8 E8 [00000000]                   	CALL	_putfonts8_asc
   391 000004CD 83 C4 34                        	ADD	ESP,52
   392 000004D0 6A 20                           	PUSH	32
   393 000004D2 68 00000098                     	PUSH	152
   394 000004D7 6A 10                           	PUSH	16
   395 000004D9 6A 20                           	PUSH	32
   396 000004DB FF B5 FFFFFDE0                  	PUSH	DWORD [-544+EBP]
   397 000004E1 E8 [00000000]                   	CALL	_sheet_refresh
   398 000004E6 8B 9D FFFFFEF8                  	MOV	EBX,DWORD [-264+EBP]
   399 000004EC 03 BD FFFFFEFC                  	ADD	EDI,DWORD [-260+EBP]
   400 000004F2 83 C4 14                        	ADD	ESP,20
   401 000004F5 01 9D FFFFFDE8                  	ADD	DWORD [-536+EBP],EBX
   402 000004FB 0F 88 000000B5                  	JS	L24
   403 00000501                                 L14:
   404 00000501 85 FF                           	TEST	EDI,EDI
   405 00000503 0F 88 000000A6                  	JS	L25
   406 00000509                                 L15:
   407 00000509 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   408 00000510 48                              	DEC	EAX
   409 00000511 39 85 FFFFFDE8                  	CMP	DWORD [-536+EBP],EAX
   410 00000517 7E 06                           	JLE	L16
   411 00000519 89 85 FFFFFDE8                  	MOV	DWORD [-536+EBP],EAX
   412 0000051F                                 L16:
   413 0000051F 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   414 00000526 48                              	DEC	EAX
   415 00000527 39 C7                           	CMP	EDI,EAX
   416 00000529 7E 02                           	JLE	L17
   417 0000052B 89 C7                           	MOV	EDI,EAX
   418 0000052D                                 L17:
   419 0000052D 57                              	PUSH	EDI
   420 0000052E 8D 45 A4                        	LEA	EAX,DWORD [-92+EBP]
   421 00000531 FF B5 FFFFFDE8                  	PUSH	DWORD [-536+EBP]
   422 00000537 68 [00000008]                   	PUSH	LC1
   423 0000053C 50                              	PUSH	EAX
   424 0000053D E8 [00000000]                   	CALL	_sprintf
   425 00000542 6A 0F                           	PUSH	15
   426 00000544 6A 4F                           	PUSH	79
   427 00000546 6A 00                           	PUSH	0
   428 00000548 6A 00                           	PUSH	0
   429 0000054A 6A 0E                           	PUSH	14
   430 0000054C 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   431 00000553 50                              	PUSH	EAX
   432 00000554 FF B5 FFFFFDD4                  	PUSH	DWORD [-556+EBP]
   433 0000055A E8 [00000000]                   	CALL	_boxfill8
   434 0000055F 8D 55 A4                        	LEA	EDX,DWORD [-92+EBP]
   435 00000562 83 C4 2C                        	ADD	ESP,44
   436 00000565 52                              	PUSH	EDX
   437 00000566 6A 07                           	PUSH	7
   438 00000568 6A 00                           	PUSH	0
   439 0000056A 6A 00                           	PUSH	0
   440 0000056C 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   441 00000573 50                              	PUSH	EAX
   442 00000574 FF B5 FFFFFDD4                  	PUSH	DWORD [-556+EBP]
   443 0000057A E8 [00000000]                   	CALL	_putfonts8_asc
   444 0000057F 6A 10                           	PUSH	16
   445 00000581 6A 50                           	PUSH	80
   446 00000583 6A 00                           	PUSH	0
   447 00000585 6A 00                           	PUSH	0
   448 00000587 FF B5 FFFFFDE0                  	PUSH	DWORD [-544+EBP]
   449 0000058D E8 [00000000]                   	CALL	_sheet_refresh
   450 00000592 83 C4 2C                        	ADD	ESP,44
   451 00000595 57                              	PUSH	EDI
   452 00000596 FF B5 FFFFFDE8                  	PUSH	DWORD [-536+EBP]
   453 0000059C FF B5 FFFFFDDC                  	PUSH	DWORD [-548+EBP]
   454 000005A2 E8 [00000000]                   	CALL	_sheet_slide
   455 000005A7 83 C4 0C                        	ADD	ESP,12
   456 000005AA E9 FFFFFD66                     	JMP	L2
   457 000005AF                                 L25:
   458 000005AF 31 FF                           	XOR	EDI,EDI
   459 000005B1 E9 FFFFFF53                     	JMP	L15
   460 000005B6                                 L24:
   461 000005B6 C7 85 FFFFFDE8 00000000         	MOV	DWORD [-536+EBP],0
   462 000005C0 E9 FFFFFF3C                     	JMP	L14
   463 000005C5                                 L22:
   464 000005C5 68 [00000000]                   	PUSH	_keyfifo
   465 000005CA E8 [00000000]                   	CALL	_fifo8_get
   466 000005CF 89 C3                           	MOV	EBX,EAX
   467 000005D1 E8 [00000000]                   	CALL	_io_sti
   468 000005D6 53                              	PUSH	EBX
   469 000005D7 8D 55 A4                        	LEA	EDX,DWORD [-92+EBP]
   470 000005DA 68 [00000047]                   	PUSH	LC4
   471 000005DF 8D 5D A4                        	LEA	EBX,DWORD [-92+EBP]
   472 000005E2 52                              	PUSH	EDX
   473 000005E3 E8 [00000000]                   	CALL	_sprintf
   474 000005E8 6A 1F                           	PUSH	31
   475 000005EA 6A 0F                           	PUSH	15
   476 000005EC 6A 10                           	PUSH	16
   477 000005EE 6A 00                           	PUSH	0
   478 000005F0 6A 0E                           	PUSH	14
   479 000005F2 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   480 000005F9 50                              	PUSH	EAX
   481 000005FA FF B5 FFFFFDD4                  	PUSH	DWORD [-556+EBP]
   482 00000600 E8 [00000000]                   	CALL	_boxfill8
   483 00000605 83 C4 2C                        	ADD	ESP,44
   484 00000608 53                              	PUSH	EBX
   485 00000609 6A 07                           	PUSH	7
   486 0000060B 6A 10                           	PUSH	16
   487 0000060D 6A 00                           	PUSH	0
   488 0000060F 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   489 00000616 50                              	PUSH	EAX
   490 00000617 FF B5 FFFFFDD4                  	PUSH	DWORD [-556+EBP]
   491 0000061D E8 [00000000]                   	CALL	_putfonts8_asc
   492 00000622 6A 20                           	PUSH	32
   493 00000624 6A 10                           	PUSH	16
   494 00000626 6A 10                           	PUSH	16
   495 00000628 E9 FFFFFCD8                     	JMP	L20
   496 0000062D                                 L21:
   497 0000062D E8 [00000000]                   	CALL	_io_stihlt
   498 00000632 E9 FFFFFCDE                     	JMP	L2
   499                                          [SECTION .data]
   500 0000004C                                 _closebtn.0:
   501 0000004C 4F 4F 4F 4F 4F 4F 4F 4F 4F 4F   	DB	"OOOOOOOOOOOOOOO@"
       00000056 4F 4F 4F 4F 4F 40 
   502 0000005C 4F 51 51 51 51 51 51 51 51 51   	DB	"OQQQQQQQQQQQQQ$@"
       00000066 51 51 51 51 24 40 
   503 0000006C 4F 51 51 51 51 51 51 51 51 51   	DB	"OQQQQQQQQQQQQQ$@"
       00000076 51 51 51 51 24 40 
   504 0000007C 4F 51 51 51 40 40 51 51 51 51   	DB	"OQQQ@@QQQQ@@QQ$@"
       00000086 40 40 51 51 24 40 
   505 0000008C 4F 51 51 51 51 40 40 51 51 40   	DB	"OQQQQ@@QQ@@QQQ$@"
       00000096 40 51 51 51 24 40 
   506 0000009C 4F 51 51 51 51 51 40 40 40 40   	DB	"OQQQQQ@@@@QQQQ$@"
       000000A6 51 51 51 51 24 40 
   507 000000AC 4F 51 51 51 51 51 51 40 40 51   	DB	"OQQQQQQ@@QQQQQ$@"
       000000B6 51 51 51 51 24 40 
   508 000000BC 4F 51 51 51 51 51 40 40 40 40   	DB	"OQQQQQ@@@@QQQQ$@"
       000000C6 51 51 51 51 24 40 
   509 000000CC 4F 51 51 51 51 40 40 51 51 40   	DB	"OQQQQ@@QQ@@QQQ$@"
       000000D6 40 51 51 51 24 40 
   510 000000DC 4F 51 51 51 40 40 51 51 51 51   	DB	"OQQQ@@QQQQ@@QQ$@"
       000000E6 40 40 51 51 24 40 
   511 000000EC 4F 51 51 51 51 51 51 51 51 51   	DB	"OQQQQQQQQQQQQQ$@"
       000000F6 51 51 51 51 24 40 
   512 000000FC 4F 51 51 51 51 51 51 51 51 51   	DB	"OQQQQQQQQQQQQQ$@"
       00000106 51 51 51 51 24 40 
   513 0000010C 4F 24 24 24 24 24 24 24 24 24   	DB	"O$$$$$$$$$$$$$$@"
       00000116 24 24 24 24 24 40 
   514 0000011C 40 40 40 40 40 40 40 40 40 40   	DB	"@@@@@@@@@@@@@@@@"
       00000126 40 40 40 40 40 40 
   515                                          [SECTION .text]
   516 00000637                                 	GLOBAL	_make_window8
   517 00000637                                 _make_window8:
   518 00000637 55                              	PUSH	EBP
   519 00000638 89 E5                           	MOV	EBP,ESP
   520 0000063A 57                              	PUSH	EDI
   521 0000063B 56                              	PUSH	ESI
   522 0000063C 53                              	PUSH	EBX
   523 0000063D 83 EC 14                        	SUB	ESP,20
   524 00000640 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
   525 00000643 6A 00                           	PUSH	0
   526 00000645 8D 43 FF                        	LEA	EAX,DWORD [-1+EBX]
   527 00000648 8D 7B FE                        	LEA	EDI,DWORD [-2+EBX]
   528 0000064B 50                              	PUSH	EAX
   529 0000064C 89 45 EC                        	MOV	DWORD [-20+EBP],EAX
   530 0000064F 6A 00                           	PUSH	0
   531 00000651 6A 00                           	PUSH	0
   532 00000653 6A 08                           	PUSH	8
   533 00000655 53                              	PUSH	EBX
   534 00000656 FF 75 08                        	PUSH	DWORD [8+EBP]
   535 00000659 E8 [00000000]                   	CALL	_boxfill8
   536 0000065E 6A 01                           	PUSH	1
   537 00000660 57                              	PUSH	EDI
   538 00000661 6A 01                           	PUSH	1
   539 00000663 6A 01                           	PUSH	1
   540 00000665 6A 07                           	PUSH	7
   541 00000667 53                              	PUSH	EBX
   542 00000668 FF 75 08                        	PUSH	DWORD [8+EBP]
   543 0000066B E8 [00000000]                   	CALL	_boxfill8
   544 00000670 8B 55 10                        	MOV	EDX,DWORD [16+EBP]
   545 00000673 83 C4 38                        	ADD	ESP,56
   546 00000676 4A                              	DEC	EDX
   547 00000677 89 55 E8                        	MOV	DWORD [-24+EBP],EDX
   548 0000067A 52                              	PUSH	EDX
   549 0000067B 6A 00                           	PUSH	0
   550 0000067D 6A 00                           	PUSH	0
   551 0000067F 6A 00                           	PUSH	0
   552 00000681 6A 08                           	PUSH	8
   553 00000683 53                              	PUSH	EBX
   554 00000684 FF 75 08                        	PUSH	DWORD [8+EBP]
   555 00000687 E8 [00000000]                   	CALL	_boxfill8
   556 0000068C 8B 75 10                        	MOV	ESI,DWORD [16+EBP]
   557 0000068F 83 EE 02                        	SUB	ESI,2
   558 00000692 56                              	PUSH	ESI
   559 00000693 6A 01                           	PUSH	1
   560 00000695 6A 01                           	PUSH	1
   561 00000697 6A 01                           	PUSH	1
   562 00000699 6A 07                           	PUSH	7
   563 0000069B 53                              	PUSH	EBX
   564 0000069C FF 75 08                        	PUSH	DWORD [8+EBP]
   565 0000069F E8 [00000000]                   	CALL	_boxfill8
   566 000006A4 83 C4 38                        	ADD	ESP,56
   567 000006A7 56                              	PUSH	ESI
   568 000006A8 57                              	PUSH	EDI
   569 000006A9 6A 01                           	PUSH	1
   570 000006AB 57                              	PUSH	EDI
   571 000006AC 6A 0F                           	PUSH	15
   572 000006AE 53                              	PUSH	EBX
   573 000006AF FF 75 08                        	PUSH	DWORD [8+EBP]
   574 000006B2 E8 [00000000]                   	CALL	_boxfill8
   575 000006B7 FF 75 E8                        	PUSH	DWORD [-24+EBP]
   576 000006BA FF 75 EC                        	PUSH	DWORD [-20+EBP]
   577 000006BD 6A 00                           	PUSH	0
   578 000006BF FF 75 EC                        	PUSH	DWORD [-20+EBP]
   579 000006C2 6A 00                           	PUSH	0
   580 000006C4 53                              	PUSH	EBX
   581 000006C5 FF 75 08                        	PUSH	DWORD [8+EBP]
   582 000006C8 E8 [00000000]                   	CALL	_boxfill8
   583 000006CD 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   584 000006D0 83 C4 38                        	ADD	ESP,56
   585 000006D3 83 E8 03                        	SUB	EAX,3
   586 000006D6 50                              	PUSH	EAX
   587 000006D7 8D 43 FD                        	LEA	EAX,DWORD [-3+EBX]
   588 000006DA 50                              	PUSH	EAX
   589 000006DB 6A 02                           	PUSH	2
   590 000006DD 6A 02                           	PUSH	2
   591 000006DF 6A 08                           	PUSH	8
   592 000006E1 53                              	PUSH	EBX
   593 000006E2 FF 75 08                        	PUSH	DWORD [8+EBP]
   594 000006E5 E8 [00000000]                   	CALL	_boxfill8
   595 000006EA 8D 43 FC                        	LEA	EAX,DWORD [-4+EBX]
   596 000006ED 6A 14                           	PUSH	20
   597 000006EF 50                              	PUSH	EAX
   598 000006F0 6A 03                           	PUSH	3
   599 000006F2 6A 03                           	PUSH	3
   600 000006F4 6A 0C                           	PUSH	12
   601 000006F6 53                              	PUSH	EBX
   602 000006F7 FF 75 08                        	PUSH	DWORD [8+EBP]
   603 000006FA E8 [00000000]                   	CALL	_boxfill8
   604 000006FF 83 C4 38                        	ADD	ESP,56
   605 00000702 56                              	PUSH	ESI
   606 00000703 57                              	PUSH	EDI
   607 00000704 56                              	PUSH	ESI
   608 00000705 6A 01                           	PUSH	1
   609 00000707 6A 0F                           	PUSH	15
   610 00000709 53                              	PUSH	EBX
   611 0000070A FF 75 08                        	PUSH	DWORD [8+EBP]
   612 0000070D E8 [00000000]                   	CALL	_boxfill8
   613 00000712 FF 75 E8                        	PUSH	DWORD [-24+EBP]
   614 00000715 FF 75 EC                        	PUSH	DWORD [-20+EBP]
   615 00000718 FF 75 E8                        	PUSH	DWORD [-24+EBP]
   616 0000071B 6A 00                           	PUSH	0
   617 0000071D 6A 00                           	PUSH	0
   618 0000071F 6B F3 05                        	IMUL	ESI,EBX,5
   619 00000722 53                              	PUSH	EBX
   620 00000723 FF 75 08                        	PUSH	DWORD [8+EBP]
   621 00000726 E8 [00000000]                   	CALL	_boxfill8
   622 0000072B 83 C4 38                        	ADD	ESP,56
   623 0000072E FF 75 14                        	PUSH	DWORD [20+EBP]
   624 00000731 6A 07                           	PUSH	7
   625 00000733 6A 04                           	PUSH	4
   626 00000735 6A 18                           	PUSH	24
   627 00000737 53                              	PUSH	EBX
   628 00000738 FF 75 08                        	PUSH	DWORD [8+EBP]
   629 0000073B E8 [00000000]                   	CALL	_putfonts8_asc
   630 00000740 83 C4 18                        	ADD	ESP,24
   631 00000743 C7 45 F0 00000000               	MOV	DWORD [-16+EBP],0
   632 0000074A C7 45 E0 00000000               	MOV	DWORD [-32+EBP],0
   633 00000751                                 L42:
   634 00000751 8D 04 1E                        	LEA	EAX,DWORD [ESI+EBX*1]
   635 00000754 8B 55 08                        	MOV	EDX,DWORD [8+EBP]
   636 00000757 31 FF                           	XOR	EDI,EDI
   637 00000759 8D 4C 02 EB                     	LEA	ECX,DWORD [-21+EDX+EAX*1]
   638 0000075D                                 L41:
   639 0000075D 8B 45 E0                        	MOV	EAX,DWORD [-32+EBP]
   640 00000760 8A 94 07 [0000004C]             	MOV	DL,BYTE [_closebtn.0+EDI+EAX*1]
   641 00000767 80 FA 40                        	CMP	DL,64
   642 0000076A 74 33                           	JE	L47
   643 0000076C 80 FA 24                        	CMP	DL,36
   644 0000076F 74 2A                           	JE	L48
   645 00000771 80 FA 51                        	CMP	DL,81
   646 00000774 B2 08                           	MOV	DL,8
   647 00000776 0F 95 C0                        	SETNE	AL
   648 00000779 28 C2                           	SUB	DL,AL
   649 0000077B                                 L36:
   650 0000077B 47                              	INC	EDI
   651 0000077C 88 11                           	MOV	BYTE [ECX],DL
   652 0000077E 41                              	INC	ECX
   653 0000077F 83 FF 0F                        	CMP	EDI,15
   654 00000782 7E D9                           	JLE	L41
   655 00000784 FF 45 F0                        	INC	DWORD [-16+EBP]
   656 00000787 01 DE                           	ADD	ESI,EBX
   657 00000789 83 45 E0 10                     	ADD	DWORD [-32+EBP],16
   658 0000078D 83 7D F0 0D                     	CMP	DWORD [-16+EBP],13
   659 00000791 7E BE                           	JLE	L42
   660 00000793 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   661 00000796 5B                              	POP	EBX
   662 00000797 5E                              	POP	ESI
   663 00000798 5F                              	POP	EDI
   664 00000799 5D                              	POP	EBP
   665 0000079A C3                              	RET
   666 0000079B                                 L48:
   667 0000079B B2 0F                           	MOV	DL,15
   668 0000079D EB DC                           	JMP	L36
   669 0000079F                                 L47:
   670 0000079F 31 D2                           	XOR	EDX,EDX
   671 000007A1 EB D8                           	JMP	L36
